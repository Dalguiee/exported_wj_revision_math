<html lang="en">

<head>
  <meta charset="UTF-8" />

  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <title>개정교육과정-수학 수학 개념</title>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <meta name="KeyWORDs" content="" />
  <meta name="Description" content="" />
  <meta name="Robots" content="all" />
  <meta http-equiv="Subject" content="" />
  <meta http-equiv="Title" content="" />
  <meta http-equiv="Author" content="onflou " />
  <meta http-equiv="Publisher" content="" />

  <!-- 브라우저 호환성을 지정 -->
  <meta http-equiv="X-UA-Compatible" content="ie=edge,chorme=1" />
  <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="shortcut icon" href="#" />
  <link href="../../../COMM/CSS/COMMON.CSS" rel="stylesheet" />
  <link href="../../../COMM/CSS/CONCEPTCOMMON2.CSS" rel="stylesheet" />
  <link href="../../../COMM/CSS/VIDEO.CSS" rel="stylesheet" />

  <style>
    .icon_box {
      display: flex;
      justify-content: center;
      align-items: center;

      background-color: rgba(255, 255, 255, 1);
      border: solid 3px rgba(190, 218, 255, 1);
      border-radius: 20px;
      height: 100px;
    }

    .icon_box.point {
      border-width: 5px !important;
      border-color: rgba(103, 68, 243, 1) !important;
    }

    .icon_box.transparent {
      background-color: transparent;
      border-color: transparent;
    }

    .icon_ladybug {
      width: 72px;
      height: 53px;

      background-image: url('../../../COMM/IMG/CONCEPT/1_3_4/ICON_LADYBUG.png');
      background-repeat: no-repeat;
      background-size: contain;
    }

    .icon_ladybug_yellow {
      background-image: url('../../../COMM/IMG/CONCEPT/1_3_4/ICON_LADYBUG_YELLOW.png');
    }

    .icon_block {
      width: 72px;
      height: 66px;

      background-repeat: no-repeat;
      background-size: contain;
    }

    .icon_block_yellow {
      background-image: url('../../../COMM/IMG/CONCEPT/1_3_4/ICON_BLOCK_YELLOW.png');
    }

    .icon_block_red {
      /* width: 53px; */
      background-image: url('../../../COMM/IMG/CONCEPT/1_3_4/ICON_BLOCK_RED.png');
    }

    .icon_block+.icon_block,
    .icon_ladybug+.icon_ladybug {
      margin-left: 36px;
    }

    .txt_comm {
      border-radius: 20px;
      padding: 30px 60px;
      background-color: rgba(199, 230, 103, 1);
    }

    /* 1p */
    .step1 .character_txt {
      width: 242px;
      height: 136px;
      top: 521px;
      left: 1547px;
      background-image: url("../../../COMM/IMG/CONCEPT/1_3_4/STEP1_CHARACTER_TXT.png");
    }

    .step1 .step1_img_box {
      width: 1600px;
      height: 470px;
      position: relative;
    }

    .step1 .step1_img_box>.img {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
    }

    .step1 .step1_img_box .img1 {
      display: block;
    }

    .step1 .step1_img_box .step1_txt {
      position: absolute;
      top: 368px;
      transform: translate(-50%, 0);

      visibility: hidden;
    }

    .step1 .step1_img_box .step1_txt1 {
      left: 418px;
    }

    .step1 .step1_img_box .step1_txt2 {
      left: 1184px;
    }

    /* 2p */
    .step2 .step2_top_img {
      width: 1600px;
      height: 288px;
      position: relative;
    }

    .step2 .step2_top_img .img {
      position: absolute;
      width: 100%;
      top: 0;
      left: 0;

      visibility: hidden;
    }

    .step2 .step2_btm_txt {
      width: 1200px;
      padding: 20px 0;
      border-radius: 20px;
      background-color: rgba(242, 245, 255, 1);
      margin-top: 68px;

      visibility: hidden;
    }

    .step2 .step2_btm_txt .txt {
      font-size: 44px;
      color: #000;
      line-height: 55px;
      letter-spacing: -2;
      font-weight: 700;
    }

    .step2 .step2_btm_txt .txt+.txt {
      margin-top: 20px;
    }

    .step2 .step2_btm_txt .txt2 {
      visibility: hidden;
    }

    /* 3p */
    .step3 .step3_top_box {
      width: 1600px;
      height: 470px;
      border-radius: 30px;
      background-color: rgba(242, 245, 255, 1);
    }

    .step3 .step3_top_box .icon_box {
      width: 108px;
      height: 86px;
    }

    .step3 .step3_top_box .icon_box+.icon_box {
      margin-left: 28px;
    }

    .step3 .step3_top_box .icon_box.icon_box_5 {
      width: 559px;
    }

    .step3 .step3_top_box .icon_box.icon_box_6 {
      width: 674px;
    }

    .step3 .step3_calc_container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .step3 .step3_calc_container .step3_calc_btm {
      margin-top: 10px;
    }

    .step3 .step3_calc_container .step3_calc_btm .icon_box {
      visibility: hidden;
    }

    .step3 .step3_calc_container .step3_calc_txt {
      margin-top: 45px;
      visibility: hidden;
    }

    .step3 .step3_left_box .step3_calc_container .step3_calc_top {
      visibility: hidden;
    }

    .step3 .step3_right_box {
      margin-left: 116px;
      position: relative;

      visibility: hidden;
    }

    .step3 .step3_right_box::before {
      content: '';
      position: absolute;
      top: 0;
      right: 100%;
      width: 116px;
      height: 85px;
      background: url("../../../COMM/IMG/CONCEPT/1_3_4/STEP3_ARROW.png") no-repeat center center;
    }

    .step3 .step3_btm_box {
      margin-top: 30px;
      visibility: hidden;
    }

    .step3 .character_txt {
      width: 368px;
      height: 233px;
      top: 460px;
      left: 1455px;
      background-image: url("../../../COMM/IMG/CONCEPT/1_3_4/STEP3_CHARACTER_TXT.png");
    }

    .step3 .txt_box {
      border-radius: 20px;
      background-color: #BEDAFF;
    }

    .step3 .txt_box {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .step3 .question_box>.txt_box {
      width: 178px;
    }

    .step3 .question_box .txt_container {
      width: 582px;
      border-radius: 20px;
      margin-left: 20px;
      border-color: #BEDAFF;

      position: relative;
    }

    .step3 .question_box .txt_container .txt_box {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 15px;
    }

    .step3 .question_box .txt_box,
    .step3 .question_box .txt_container {
      height: 96px;
    }

    .step3 .answer_box {
      margin-top: 60px;
    }

    .step3 .answer_box .answer {
      width: 335px;
      height: 114px;
    }

    .step3 .answer_box .answer+.answer {
      margin-left: 48px;
    }

    /* 4p */
    .step4 .step4_top_box {
      height: 595px;
      align-items: flex-end;

      padding-bottom: 77px;
    }

    .step4 .step4_right_box {
      margin-left: 200px;
    }

    .step4 .step4_cont_img {
      position: relative;
    }

    .step4 .step4_cont_img>.img {
      position: absolute;
      width: auto;
      visibility: hidden;
    }

    .step4 .step4_cont_img>.img1 {
      visibility: visible;
    }

    .step4 .step4_left_box .step4_cont_img {
      width: 580px;
      height: 222px;
    }

    .step4 .step4_left_box .step4_cont_img .img1 {
      left: 0;
      bottom: 0;
    }

    .step4 .step4_left_box .step4_cont_img .img2 {
      right: 0;
      top: 0;
    }

    .step4 .step4_right_box .step4_cont_img {
      width: 612px;
      height: 164px;
    }

    .step4 .step4_right_box .step4_cont_img .img {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .step4 .step4_right_box .step4_cont_txt {
      visibility: hidden;
    }

    .step4 .step4_cont_txt .txt {
      text-align: center;
    }

    .step4 .step4_cont_txt .txt2 {
      font-size: 60px;
      margin-top: 15px;
      animation: 1s txtScaleAni infinite;
      visibility: hidden;
    }

    .step4 .step4_left_box .step4_cont_txt {
      margin-top: 76px;
    }

    .step4 .step4_right_box .step4_cont_txt {
      margin-top: 57px;
    }

    @keyframes txtScaleAni {
      0% {
        transform: scale(100%);
      }

      50% {
        transform: scale(110%);
      }

      100% {
        transform: scale(100%);
      }
    }

    .step4 .check_footer_text {
      background: url("../../../COMM/IMG/CONCEPT/1_3_4/STEP4_FOOTER_TXT.png") no-repeat center;
    }
  </style>
</head>

<body>
  <div id="wrap">
    <div id="contents-wrap" class="concept" style="position: absolute; display: flex"></div>
    <div id="contents-main" style="display: none" class="concept-warp">
      <div class="concept-warp_inner">
        <header class="header" style="visibility: visible">
          <div class="header_title">
            <button class="sound-btn" onclick="titleSound()"></button>
            <h3>덧셈을 알아볼까요.</h3>
          </div>
          <p class="header_page"><span>1</span>/2</p>
        </header>
        <main class="main">
          <div class="main_content">
            <!-- 콘텐츠영역 -->
            <div class="step step1" style="display: block">
              <!-- step1 시작부분 -->
              <div class="touchMotion touchMotion1-1">
                <div class="touchMotion_point"></div>
                <div class="touchMotion_hand"></div>
              </div>

              <div class="main__container dp_flex">
                <div class="step1_container dp_flex dp_flex_column">
                  <div class="step1_img_box">
                    <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP1_IMG_1.png" alt="나비 1마리 이미지" class="img img1" />
                    <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP1_IMG_1_2.png" alt="나비 1마리와 3마리 이미지"
                      class="img img1_2" />
                    <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP1_IMG_2.png" alt="나비 2마리 이미지" class="img img2" />

                    <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP1_IMG_3.png" alt="연결 모형 1개 이미지" class="img img3" />
                    <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP1_IMG_3_2.png" alt="연결 모형 1개와 2개가 들어오는 이미지"
                      class="img img3_2" />
                    <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP1_IMG_3_3.png" alt="연결 모형 1개와 2개가 들어오고 3개가 있는 이미지"
                      class="img img3_3" />

                    <div class="txt_comm step1_txt step1_txt1">1+2</div>
                    <div class="txt_comm step1_txt step1_txt2">3</div>
                  </div>
                </div>

                <div class="character_txt">더하기 기호와 등호 기호</div>
                <div class="character">
                  <div class="character_head">
                    <img src="../../../COMM/IMG/CHARACTER_HEAD.PNG" alt="캐릭터 머리" />
                  </div>
                  <div class="character_body">
                    <img src="../../../COMM/IMG/CHARACTER_BODY.PNG" alt="캐릭터 몸" />
                  </div>
                </div>
              </div>
            </div>
            <div class="step step2" style="display: none">
              <!-- step2 시작부분 -->
              <div class="main__container dp_flex dp_flex_column">
                <div class="step2_top_img">
                  <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP2_IMG.png" alt="1 + 2 = 3 이미지" class="img img1" />
                  <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP2_IMG_PLUS.png" alt="+ 이미지" class="img img2" />
                  <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP2_IMG_EQUAL.png" alt="= 이미지" class="img img3" />
                </div>
                <div class="step2_btm_txt dp_flex dp_flex_column">
                  <p class="txt txt1">1 <span class="highlight blue">더하기</span> 2는 3과 <span
                      class="highlight red">같습니다</span>.</p>
                  <p class="txt txt2">1과 2의 <span class="highlight blue">합</span>은 3<span
                      class="highlight red">입니다</span>.</p>
                </div>
              </div>
            </div>
            <div class="step step3" style="display: none">
              <!-- step3 시작부분 -->
              <div class="touchMotion touchMotion3-1">
                <div class="touchMotion_point"></div>
                <div class="touchMotion_hand"></div>
              </div>

              <div class="main__container dp_flex dp_flex_column">
                <div class="step3_top_box dp_flex">
                  <div class="step3_left_box step3_calc_container">
                    <div class="step3_calc_top dp_flex">
                      <div class="icon_box icon_box_5">
                        <div class="dp_flex">
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                        </div>
                      </div>
                      <div class="icon_box icon_box_1">
                        <div class="dp_flex">
                          <div class="icon_ladybug icon_ladybug_yellow"></div>
                        </div>
                      </div>
                    </div>
                    <div class="step3_calc_btm dp_flex">
                      <div class="icon_box icon_box_5 transparent">
                        <div class="dp_flex">
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                        </div>
                      </div>
                      <div class="icon_box icon_box_1 transparent">
                        <div class="dp_flex">
                          <div class="icon_block icon_block_yellow"></div>
                        </div>
                      </div>
                    </div>
                    <div class="step3_calc_txt">
                      <div class="txt_comm step5_txt step5_txt1">5+1</div>
                    </div>
                  </div>
                  <div class="step3_right_box step3_calc_container">
                    <div class="step3_calc_top dp_flex">
                      <div class="icon_box icon_box_6">
                        <div class="dp_flex">
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug"></div>
                          <div class="icon_ladybug icon_ladybug_yellow"></div>
                        </div>
                      </div>
                    </div>
                    <div class="step3_calc_btm dp_flex">
                      <div class="icon_box icon_box_6 transparent">
                        <div class="dp_flex">
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_red"></div>
                          <div class="icon_block icon_block_yellow"></div>
                        </div>
                      </div>
                    </div>
                    <div class="step3_calc_txt">
                      <div class="txt_comm step5_txt step5_txt1">6</div>
                    </div>
                  </div>
                </div>
                <div class="step3_btm_box">
                  <div class="question_box dp_flex">
                    <div class="txt_box">덧셈식</div>
                    <div class="txt_container" data-val="1"></div>
                  </div>
                  <div class="answer_box dp_flex"></div><!-- script 제어 -->
                </div>

                <div class="character_txt">5 더하기 1은 6입니다. 5와 1의 합은 6입니다.</div>
                <div class="character">
                  <div class="character_head">
                    <img src="../../../COMM/IMG/CHARACTER_HEAD.PNG" alt="캐릭터 머리" />
                  </div>
                  <div class="character_body">
                    <img src="../../../COMM/IMG/CHARACTER_BODY.PNG" alt="캐릭터 몸" />
                  </div>
                </div>
              </div>
            </div>
            <div class="step step4" style="display: none">
              <!-- step4 시작부분 -->
              <div class="main__container">
                <div class="full_content_comm dp_flex">
                  <div class="step4_top_box dp_flex">
                    <div class="step4_left_box step4_cont">
                      <div class="step4_cont_img">
                        <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP4_IMG1.png" alt="연결 모형 3개 이미지" class="img img1" />
                        <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP4_IMG2.png" alt="연결 모형 1개와 화살표 이미지"
                          class="img img2" />
                      </div>
                      <div class="step4_cont_txt">
                        <p class="txt txt1">수가 늘어나는 경우</p>
                        <p class="txt txt2"><span class="highlight red">3</span>+<span class="highlight yellow">1</span>
                          =4</p>
                      </div>
                    </div>

                    <div class="step4_right_box step4_cont">
                      <div class="step4_cont_img">
                        <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP4_IMG3.png" alt="연결 모형 4개 이미지" class="img img3" />
                        <img src="../../../COMM/IMG/CONCEPT/1_3_4/STEP4_IMG4.png" alt="테두리 이미지" class="img img4" />
                      </div>
                      <div class="step4_cont_txt">
                        <p class="txt txt1">수를 모아서 전체를 구하는 경우</p>
                        <p class="txt txt2"><span class="highlight red">3</span>+<span class="highlight yellow">1</span>
                          =4</p>
                      </div>
                    </div>
                  </div>
                </div>

                <footer class="check_footer">
                  <div class="check_footer_inner">
                    <div class="check_footer_text"></div>
                    <div class="check_footer_ch">
                      <div class="check_footer_ch_head"></div>
                      <div class="check_footer_ch_body"></div>
                    </div>
                  </div>
                </footer>
              </div>
            </div>

            <ul class="step-list">
              <li class="step-list_item active"></li>
              <li class="step-list_item"></li>
            </ul>
          </div>
        </main>
        <div class="main_prev-next">
          <button class="btn-prev" style="display: none">이전버튼</button>
          <!-- <button class="btn-next" style="display: block" disabled> -->
          <button class="btn-next blinking" style="display: block">
            다음버튼
          </button>
        </div>
      </div>
    </div>
  </div>

  <script crossorigin src="https://www.unpkg.com/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="../../../COMM/JS/HOWLER.MIN.JS"></script>
  <script src="../../../COMM/JS/COMMON2.JS"></script>
  <script src="../../../COMM/JS/CONCEPTEVNT3.JS"></script>
  <script src="../../../COMM/JS/CONCEPTEVNTBTN.JS"></script> <!-- 개념 익히기 공통 버튼 처리 (0424) -->
  <script src="../../../COMM/JS/GAME.JS"></script>
  <script src="../../../COMM/JS/VIDEO.JS"></script>
  <script src="../../../COMM/JS/VIDEO-HTTP-STREAMING.JS"></script>
  <script defer src="../../../COMM/JS/TOUCHDND.JS"></script>
  <script>
    /*
     * 데이터
     */
    let intro = {
      type: "concept", //concept 개념익히기, checkExam 확인문제
      title: "덧셈을 알아볼까요",
      subTitle: [
        "덧셈 상황을 이해할 수 있어요.",
        "덧셈식을 쓰고 읽을 수 있어요.",
      ],
      sound: ["../../../COMM/SOUND/1_3_4/1_1_3-4_001.mp3"],
    };

    //현재 페이지
    let disStep = 1;

    let pageData = [
      {
        step: 1,
        title: "덧셈을 식으로 나타내 봅시다.",
        sound: "../../../COMM/SOUND/1_3_4/1_1_3-4_001.mp3",
        headerPage: [1, 2],
        footerPage: [0, 0],
        prev: 0,
        next: 0,
      },
      {
        step: 2,
        title: "덧셈을 식으로 나타내 봅시다.",
        sound: "../../../COMM/SOUND/1_3_4/1_1_3-4_001.mp3",
        headerPage: [1, 2],
        footerPage: [0, 0],
        prev: 0,
        next: 1,
      },
      {
        step: 3,
        title: "무당벌레는 모두 몇 마리인지 덧셈식을 쓰고 읽어 봅시다.",
        sound: "../../../COMM/SOUND/1_3_4/1_1_3-4_016.mp3",
        headerPage: [2, 2],
        footerPage: [0, 0],
        prev: 2,
        next: 0,
      },
      {
        step: 4,
        title: "",
        sound: "",
        headerPage: [0, 0],
        footerPage: [0, 0],
        prev: 3,
        next: 0,
      },
    ];

    function pageAction() {
      console.log("disStep ::: ", disStep);
      //setTimeout 초기화
      const TimeoutId = setTimeout(() => console.log("timeout clear"), 1);
      for (let i = 0; i < TimeoutId; i++) {
        clearTimeout(i);
      }
      stepSet();
      switch (disStep) {
        case 1:
          step1.reset();
          step1.start();
          break;
        case 2:
          step2.reset();
          step2.start();
          break;
        case 3:
          step3.reset();
          step3.start();
          break;
        case 4:
          step4.reset();
          step4.start();
          break;
      }
    }

    //문제 시작
    //================STEP1==============
    const step1 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_4/1_1_3-4_001.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_002.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_003.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_004.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_005.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_006.mp3",
        ], [
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 왼쪽 화살표 + 날아온 2마리 나타남
              $('.step1 .img2').css('display', 'block');
            }
          },
          {
            idx: 4,
            type: 'end',
            callback: () => {
              // 오른쪽 3마리 나타남
              $('.step1 .img1').css('display', 'none');
              $('.step1 .img1_2').css('display', 'block');
            }
          },
          {
            idx: 6,
            type: 'end',
            callback: () => {
              // 손가락 터치 유도 등장
              touchMotionSetOn('300', '650', step1.guideTouch, $('.step1 .step1_img_box'));
            }
          },
        ]);
      },
      guideTouch: () => {
        // 나비를 터치하면 각각 연결 모형 1개, 2개, 3개가 순서대로 등장
        timerSet(() => {
          $('.step1 .img3').css('display', 'block');

          timerInit();

          timerSet(() => {
            $('.step1 .img3').css('display', '');
            $('.step1 .img3_2').css('display', 'block');

            timerInit();

            timerSet(() => {
              $('.step1 .img3_2').css('display', '');
              $('.step1 .img3_3').css('display', 'block');

              timerInit();

              timerSet(() => {
                audioSet([
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_007.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_008.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_009.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_010.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_011.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_012.mp3",
                ], [
                  {
                    idx: 2,
                    type: 'start',
                    callback: () => {
                      // 말풍선 + 분석이 등장
                      $('.step1 .character_txt').css('display', 'block');
                      $('.step1 .character').css('display', 'flex');
                    }
                  },
                  {
                    idx: 3,
                    type: 'end',
                    callback: () => {
                      // 분석이 사라짐
                      $('.step1 .character_txt').css('display', '');
                      $('.step1 .character').css('display', '');
                    }
                  },
                  {
                    idx: 4,
                    type: 'start',
                    callback: () => {
                      timerSet(() => {
                        // 나레이션에 맞춰 하단 텍스트 박스 나타남
                        $('.step1 .step1_txt1').css('visibility', 'visible');

                        timerInit();
                      }, 1000);
                    }
                  },
                  {
                    idx: 5,
                    type: 'start',
                    callback: () => {
                      // 나레이션에 맞춰 하단 텍스트 박스 나타남
                      $('.step1 .step1_txt2').css('visibility', 'visible');
                    }
                  },
                  {
                    idx: 6,
                    type: 'end',
                    callback: () => {
                      disStep++;
                      pageAction();
                    }
                  }
                ]);
                timerInit();
              }, 1000);
            }, 1000);
          }, 1000);
        }, 1000);
      },
      reset: () => {
        touchMotionSetInit();

        $('.step1 .img').css('display', '');
        $('.step1 .step1_txt').css('visibility', '');
      },
    };
    //================STEP2==============
    const step2 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_4/1_1_3-4_013.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_014.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_015.mp3",
        ], [
          {
            idx: 1,
            type: 'start',
            callback: () => {
              timerSet(() => {
                // 덧셈식 등장 및 기호 깜빡이며 강조
                $('.step2 .step2_top_img .img1').css('visibility', 'visible');
                $('.step2 .step2_top_img .img2').css('visibility', 'visible').addClass('blinking');
                $('.step2 .step2_top_img .img3').css('visibility', 'visible').addClass('blinking');
              }, 1500);
            }
          },
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 나레이션에 맞춰 하단 문장 나타남
              $('.step2 .step2_btm_txt').css('visibility', 'visible');
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 나레이션에 맞춰 하단 문장 나타남
              $('.step2 .step2_btm_txt .txt2').css('visibility', 'visible');
            }
          },
          {
            idx: 3,
            type: 'end',
            callback: () => {
              correctly();
            }
          },
        ]);
      },
      reset: () => {
        $('.step2 .step2_top_img .img').css('visibility', '').removeClass('blinking');
        $('.step2 .step2_btm_txt').css('visibility', '');
        $('.step2 .step2_btm_txt .txt2').css('visibility', '');
      },
    };
    //================STEP3==============
    const step3 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_4/1_1_3-4_016.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_017.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_018.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_019.mp3",
        ], [
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 왼쪽 무당벌레 이미지 나타남
              $('.step3 .step3_top_box .step3_left_box .step3_calc_top').css('visibility', 'visible');
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 오른쪽 무당벌레 이미지 나타남
              $('.step3 .step3_right_box').css('visibility', 'visible');
            }
          },
          {
            idx: 4,
            type: 'end',
            callback: () => {
              // 왼쪽 무당벌레 깜빡이며 터치 유도
              touchMotionSetOn('150', '650', step3.guideTouch, $('.step3 .step3_left_box .step3_calc_top'));
            }
          },
        ]);
      },
      guideTouch: () => {
        timerSet(() => {
          // 터치하면 각각 연결모형 5개, 1개, 6개 순서대로 등장
          $('.step3 .step3_left_box .step3_calc_btm .icon_box').eq(0).css('visibility', 'visible');

          timerInit();

          timerSet(() => {
            // 터치하면 각각 연결모형 5개, 1개, 6개 순서대로 등장
            $('.step3 .step3_left_box .step3_calc_btm .icon_box').eq(1).css('visibility', 'visible');

            timerInit();

            timerSet(() => {
              // 터치하면 각각 연결모형 5개, 1개, 6개 순서대로 등장
              $('.step3 .step3_right_box .step3_calc_btm .icon_box').css('visibility', 'visible');

              timerInit();

              timerSet(() => {
                audioSet([
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_020.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_021.mp3",
                  "../../../COMM/SOUND/1_3_4/1_1_3-4_022.mp3",
                ], [
                  {
                    idx: 1,
                    type: 'start',
                    callback: () => {
                      // 하단 텍스트 박스 5+1 등장
                      $('.step3 .step3_left_box .step3_calc_txt').css('visibility', 'visible');
                    }
                  },
                  {
                    idx: 2,
                    type: 'start',
                    callback: () => {
                      // 하단 텍스트 박스 6 등장
                      $('.step3 .step3_right_box .step3_calc_txt').css('visibility', 'visible');
                    }
                  },
                  {
                    idx: 3,
                    type: 'end',
                    callback: () => {
                      // 물음표 박스
                      $('.step3 .step3_btm_box').css('visibility', 'visible');
                      quizSelectSetOn(1, step3);
                    }
                  },
                ]);

                timerInit();
              }, 1000);
            }, 1000);
          }, 1000);
        }, 1000);
      },
      quizSelectCorrect: (flag) => {
        if (flag) {
          $('.step3 .answer_box').css('visibility', 'hidden');
          $('.step3 .txt_container').html('<div class="txt_box">' + $('.select_list .answer.selected').text() + '</div>');

          audioSet([
            "../../../COMM/SOUND/CORRECT.mp3",
            "../../../COMM/SOUND/1_3_4/1_1_3-4_024.mp3",
            "../../../COMM/SOUND/1_3_4/1_1_3-4_025.mp3",
          ], [
            {
              idx: 2,
              type: 'start',
              callback: () => {
                // 분석이 + 말풍선 등장 (나레이션에 맞춰서 텍스트 노출)
                $('.step3 .character').css('display', 'flex');
                $('.step3 .character_txt').css('display', 'block');
              }
            },
            {
              idx: 3,
              type: 'end',
              callback: () => {
                disStep++;
                pageAction();
              }
            },
          ]);
        } else {
          audioSet([
            "../../../COMM/SOUND/WRONG.mp3",
            "../../../COMM/SOUND/1_3_4/1_1_3-4_023.mp3",
          ]);
        }
      },
      reset: () => {
        touchMotionSetInit();

        $('.step3 .step3_top_box .step3_calc_top').css('visibility', '');
        $('.step3 .step3_right_box').css('visibility', '');
        $('.step3 .step3_calc_btm .icon_box').css('visibility', '');
        $('.step3 .step3_calc_txt').css('visibility', '');
        $('.step3 .step3_btm_box').css('visibility', '');
        $('.step3 .character').css('display', '');
        $('.step3 .character_txt').css('display', '');

        $('.step3 .question_box .txt_container').html('?');
        $('.step3 .answer_box').css('visibility', '');

        let stepAnswerList = ["5+1=6", "1+6=7"];
        quizSelectSetInit($('.step3 .answer_box'), stepAnswerList);
      },
    };
    //================STEP4==============
    const step4 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_4/1_1_3-4_026.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_027.mp3",
          "../../../COMM/SOUND/1_3_4/1_1_3-4_028.mp3",
        ], [
          {
            idx: 1,
            type: 'start',
            callback: () => {
              timerSet(() => {
                // 왼쪽 노란색 연결 큐브 1개 나타남
                $('.step4 .step4_cont_img .img2').css('visibility', 'visible');

                timerInit();
              }, 1000);
            }
          },
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 오른쪽 연결 큐브 나타남
              $('.step4 .step4_right_box .step4_cont_txt').css('visibility', 'visible');

              $('.step4 .step4_cont_img .img3').css('visibility', 'visible');
              $('.step4 .step4_cont_img .img4').css('visibility', 'visible');
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 덧셈식 나타나고 커졌다 작아졌다 강조
              $('.step4 .step4_cont_txt .txt2').css('visibility', 'visible');

              // 하단 텍스트
              $('.step4 .check_footer_inner').addClass('slideUp');
            }
          },
          {
            idx: 3,
            type: 'end',
            callback: () => {
              callFinish();
            }
          },
        ]);
      },
      reset: () => {
        $('.step4 .step4_cont_img .img').css('visibility', '');
        $('.step4 .step4_cont_txt').css('visibility', '');
        $('.step4 .check_footer_inner').removeClass('slideUp');
      },
    };
  </script>
</body>

</html>