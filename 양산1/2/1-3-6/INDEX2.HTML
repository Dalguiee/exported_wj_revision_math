<html lang="en">

<head>
  <meta charset="UTF-8" />

  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <title>개정교육과정-수학 수학 개념</title>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <meta name="KeyWORDs" content="" />
  <meta name="Description" content="" />
  <meta name="Robots" content="all" />
  <meta http-equiv="Subject" content="" />
  <meta http-equiv="Title" content="" />
  <meta http-equiv="Author" content="onflou " />
  <meta http-equiv="Publisher" content="" />

  <!-- 브라우저 호환성을 지정 -->
  <meta http-equiv="X-UA-Compatible" content="ie=edge,chorme=1" />
  <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="shortcut icon" href="#" />
  <link href="../../../COMM/CSS/COMMON.CSS" rel="stylesheet" />
  <link href="../../../COMM/CSS/CONCEPTCOMMON2.CSS" rel="stylesheet" />
  <link href="../../../COMM/CSS/VIDEO.CSS" rel="stylesheet" />

  <style>
    /* 1p */
    .step1 .step1_top_box {
      width: 1600px;
      height: 470px;
      border-radius: 20px;
      background-color: #F2F5FF;
    }

    .step1 .step1_top_box .step1_img {
      width: 1600px;
      height: 470px;
    }

    .step1 .step1_btm_box {
      margin-top: 80px;
    }

    .step1 .step1_calc_box {
      width: 600px;
      height: 110px;
      background-color: #BEDAFF;
      border-radius: 20px;
    }

    .step1 .step1_calc_box+.step1_calc_box {
      margin-left: 120px;
    }

    .step1 .point1 {
      top: 165px;
      left: 589px;
    }

    .step1 .point2 {
      top: 137px;
      left: 908px;
    }

    /* 2p */
    .step2 .step2_top_comm {
      width: 719px;
      height: 440px;
      border-radius: 30px;
      border: solid 8px #FFB8EF;
    }

    .step2 .step2_top_comm+.step2_top_comm {
      margin-left: 30px;
    }

    .step2 .step2_top_comm .step2_img_box {
      width: 646px;
      height: 134px;
    }

    .step2 .step2_top_comm .step2_img_box .img {
      left: auto;
      right: 0;

      width: auto;
    }

    .step2 .step2_top_comm .step2_calc_box {
      margin-top: 20px;
    }

    .step2 .step2_top_right .step2_calc_box {
      padding-right: 25px;
    }

    .step2 .check_footer_text {
      background: url("../../../COMM/IMG/CONCEPT/1_3_6/STEP2_FOOTER_TXT.png") no-repeat center;
    }

    /* 3p */
    .step3 .step3_left_box .step3_img_box {
      width: 730px;
      height: 456px;
    }

    .step3 .step3_right_box {
      margin-left: 130px;
    }

    .step3 .step3_right_box .step3_calc_box {
      width: 600px;
      height: 110px;
      border-radius: 20px;
      background-color: #BEDAFF;
    }

    .step3 .step3_right_box .step3_calc_box+.step3_calc_box {
      margin-top: 64px;
    }

    .step3 .point2 {
      top: 200px;
      left: 547px;
    }

    .step3 .point1 {
      top: 220px;
      left: 254px;
    }

    /* 4p */
    .step4 .step4_top_box .step4_calc_box {
      width: 600px;
      height: 110px;
      border-radius: 20px;
      background-color: #BEDAFF;
    }

    .step4 .step4_top_box .step4_calc_box+.step4_calc_box {
      margin-top: 64px;
    }

    .step4 .calc_comm {
      position: relative;
      z-index: 1;
    }

    .step4 .calc_comm .arrow {
      width: 113px;
      height: 114px;
      position: absolute;
      z-index: -1;
      display: none;

      top: 50px;
    }

    .step4 .calc_comm .arrow1 {
      left: 91px;
    }

    .step4 .calc_comm .arrow2 {
      left: 210px;
    }

    /* 5p */
    .step5 .step5_top_box {
      padding-bottom: 60px;
    }

    .step5 .step5_calc_box {
      position: relative;
    }

    .step5 .step5_calc_box .calc_txt {
      font-size: 100px;
    }

    .step5 .step5_calc_box .calc_txt+.calc_txt {
      margin-top: 27px;
    }

    .step5 .step5_calc_box .calc_txt .txt {
      display: block;
      width: 92px;
      text-align: center;
    }

    .step5 .step5_calc_box .step5_arrow {
      position: absolute;
      top: 0;
      z-index: -1;
      width: 174px;
      height: 498px;
      transform: translate(-50%, 0);
      display: none;
      ;
    }

    .step5 .step5_calc_box .step5_arrow.arrow1 {
      left: 230px;
    }

    .step5 .step5_calc_box .step5_arrow.arrow2 {
      left: 414px;
    }

    .step5 .check_footer_text {
      background: url("../../../COMM/IMG/CONCEPT/1_3_6/STEP5_FOOTER_TXT.png") no-repeat center;
    }
  </style>
</head>

<body>
  <div id="wrap">
    <div id="contents-wrap" class="concept" style="position: absolute; display: flex"></div>
    <div id="contents-main" style="display: none" class="concept-warp">
      <div class="concept-warp_inner">
        <header class="header" style="visibility: visible">
          <div class="header_title">
            <button class="sound-btn" onclick="titleSound()"></button>
            <h3>덧셈을 알아볼까요.</h3>
          </div>
          <p class="header_page"><span>1</span>/2</p>
        </header>
        <main class="main">
          <div class="main_content">
            <!-- 콘텐츠영역 -->
            <div class="step step1" style="display: block">
              <!-- step1 시작부분 -->
              <div class="main__container dp_flex dp_flex_column">
                <div class="step1_top_box dp_flex">
                  <div class="step1_img img_container">
                    <img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP1_IMG.png" alt="사과나무 이미지" class="img img1" />
                    <div class="img_point__wrap point1 v_hidden"><img
                        src="../../../COMM/IMG/CONCEPT/1_3_6/STEP1_IMG_POINT1_1.png" alt="왼쪽 사과 7개 강조 이미지" /></div>
                    <div class="img_point__wrap point2 v_hidden"><img
                        src="../../../COMM/IMG/CONCEPT/1_3_6/STEP1_IMG_POINT2_1.png" alt="오른쪽 사과 1개 강조 이미지" /></div>
                  </div>
                </div>
                <div class="step1_btm_box dp_flex">
                  <div class="step1_btm_left step1_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">7</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">1</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3 keypad_txt keypad_txt1" data-val="8">?</div>
                    </div>
                  </div>
                  <div class="step1_btm_right step1_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">1</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">7</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3 keypad_txt keypad_txt2" data-val="8">?</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="step step2" style="display: none">
              <!-- step2 시작부분 -->
              <div class="main__container">
                <div class="step2_top_box full_content_comm dp_flex">
                  <div class="step2_top_left step2_top_comm dp_flex dp_flex_column">
                    <div class="step2_img_box img_container">
                      <img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP2_IMG1.png" alt="사과 이미지" class="img img1" />
                      <img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP2_IMG2.png" alt="사과 강조 이미지" class="img img2" />
                    </div>
                    <div class="step2_calc_box dp_flex">
                      <div class="calc_comm">
                        <div class="txt_container txt_container1">7</div>
                        <div class="txt" style="width: 90px;">+</div>
                        <div class="txt_container txt_container2">1</div>
                        <div class="txt" style="width: 133px;">=</div>
                        <div class="txt_container txt_container3">8</div>
                      </div>
                    </div>
                  </div>
                  <div class="step2_top_right step2_top_comm dp_flex dp_flex_column">
                    <div class="step2_img_box img_container">
                      <img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP2_IMG3.png" alt="사과 이미지" class="img img1" />
                      <img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP2_IMG4.png" alt="사과 강조 이미지" class="img img2" />
                    </div>
                    <div class="step2_calc_box dp_flex">
                      <div class="calc_comm">
                        <div class="txt_container txt_container1">1</div>
                        <div class="txt" style="width: 100px;">+</div>
                        <div class="txt_container txt_container2">7</div>
                        <div class="txt" style="width: 170px;">=</div>
                        <div class="txt_container txt_container3">8</div>
                      </div>
                    </div>
                  </div>
                </div>

                <footer class="check_footer">
                  <div class="check_footer_inner">
                    <div class="check_footer_text"></div>
                    <div class="check_footer_ch">
                      <div class="check_footer_ch_head"></div>
                      <div class="check_footer_ch_body"></div>
                    </div>
                  </div>
                </footer>
              </div>
            </div>
            <div class="step step3" style="display: none">
              <!-- step3 시작부분 -->
              <div class="main__container dp_flex">
                <div class="step3_left_box">
                  <div class="step3_img_box img_container">
                    <img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP3_IMG.png" alt="닭 이미지" class="img img1" />
                    <div class="img_point__wrap point1 v_hidden"><img
                        src="../../../COMM/IMG/CONCEPT/1_3_6/STEP3_IMG_POINT1_1.png" alt="닭 강조 이미지" /></div>
                    <div class="img_point__wrap point2 v_hidden"><img
                        src="../../../COMM/IMG/CONCEPT/1_3_6/STEP3_IMG_POINT2_1.png" alt="닭 강조 이미지" /></div>
                  </div>
                </div>
                <div class="step3_right_box dp_flex dp_flex_column">
                  <div class="step3_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">2</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">1</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3 keypad_txt keypad_txt1" data-val="3">?</div>
                    </div>
                  </div>
                  <div class="step3_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">2</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">2</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3 keypad_txt keypad_txt2" data-val="4">?</div>
                    </div>
                  </div>
                  <div class="step3_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">2</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">3</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3 keypad_txt keypad_txt3" data-val="5">?</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="step step4" style="display: none">
              <!-- step4 시작부분 -->
              <div class="main__container dp_flex">
                <div class="step4_top_box dp_flex dp_flex_column">
                  <div class="step4_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">2</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">1</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3">3</div>
                      <div class="arrow arrow1"><img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP4_ARROW_RED.png"
                          alt="빨간색 화살표" /></div>
                      <div class="arrow arrow2"><img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP4_ARROW_GREEN.png"
                          alt="초록색 화살표" /></div>
                    </div>
                  </div>
                  <div class="step4_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">2</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">2</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3">4</div>
                      <div class="arrow arrow1"><img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP4_ARROW_RED.png"
                          alt="빨간색 화살표" /></div>
                      <div class="arrow arrow2"><img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP4_ARROW_GREEN.png"
                          alt="초록색 화살표" /></div>
                    </div>
                  </div>
                  <div class="step4_calc_box dp_flex">
                    <div class="calc_comm">
                      <div class="txt_container txt_container1">2</div>
                      <div class="txt">+</div>
                      <div class="txt_container txt_container2">3</div>
                      <div class="txt">=</div>
                      <div class="txt_container txt_container3">5</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="step step5" style="display: none">
              <!-- step5 시작부분 -->
              <div class="main__container">
                <div class="step5_top_box full_content_comm dp_flex">
                  <div class="step5_calc_box dp_flex dp_flex_column">
                    <div class="step5_arrow arrow1"><img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP5_ARROW.png"
                        alt="화살표 이미지" class="img img1" /></div>
                    <div class="step5_arrow arrow2"><img src="../../../COMM/IMG/CONCEPT/1_3_6/STEP5_ARROW.png"
                        alt="화살표 이미지" class="img img1" /></div>
                    <div class="calc_txt dp_flex">
                      <span class="txt txt_num txt1">6</span>
                      <span class="txt txt_sign txt2">+</span>
                      <span class="txt txt_num txt3">1</span>
                      <span class="txt txt_sign txt4">=</span>
                      <span class="txt txt_num txt5">7</span>
                    </div>
                    <div class="calc_txt dp_flex">
                      <span class="txt txt_num txt1">6</span>
                      <span class="txt txt_sign txt2">+</span>
                      <span class="txt txt_num txt3">2</span>
                      <span class="txt txt_sign txt4">=</span>
                      <span class="txt txt_num txt5">8</span>
                    </div>
                    <div class="calc_txt dp_flex">
                      <span class="txt txt_num txt1">6</span>
                      <span class="txt txt_sign txt2">+</span>
                      <span class="txt txt_num txt3">3</span>
                      <span class="txt txt_sign txt4">=</span>
                      <span class="txt txt_num txt5">9</span>
                    </div>
                  </div>
                </div>

                <footer class="check_footer">
                  <div class="check_footer_inner">
                    <div class="check_footer_text"></div>
                    <div class="check_footer_ch">
                      <div class="check_footer_ch_head"></div>
                      <div class="check_footer_ch_body"></div>
                    </div>
                  </div>
                </footer>
              </div>
            </div>

            <ul class="step-list">
              <li class="step-list_item active"></li>
              <li class="step-list_item"></li>
            </ul>
          </div>
        </main>
        <div class="main_prev-next">
          <button class="btn-prev" style="display: none">이전버튼</button>
          <!-- <button class="btn-next" style="display: block" disabled> -->
          <button class="btn-next blinking" style="display: block">
            다음버튼
          </button>
        </div>
      </div>
    </div>
  </div>

  <script crossorigin src="https://www.unpkg.com/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="../../../COMM/JS/COMMON2.JS"></script>
  <script src="../../../COMM/JS/HOWLER.MIN.JS"></script>
  <script src="../../../COMM/JS/CONCEPTEVNT3.JS"></script>
  <script src="../../../COMM/JS/CONCEPTEVNTBTN.JS"></script> <!-- 개념 익히기 공통 버튼 처리 (0424) -->
  <script src="../../../COMM/JS/GAME.JS"></script>
  <script src="../../../COMM/JS/VIDEO.JS"></script>
  <script src="../../../COMM/JS/VIDEO-HTTP-STREAMING.JS"></script>
  <script defer src="../../../COMM/JS/TOUCHDND.JS"></script>
  <script>
    /*
     * 데이터
     */
    let intro = {
      type: "concept", //concept 개념익히기, checkExam 확인문제
      title: "덧셈을 해 볼까요(2)",
      subTitle: [
        "두 수를 바꾸어 더할 수 있어요.",
        "덧셈을 하며 규칙을 발견할 수 있어요.",
      ],
      sound: ["../../../COMM/SOUND/2_2_6/2_1_2-6_002.mp3"],
    };

    //현재 페이지
    let disStep = 1;

    let pageData = [
      {
        step: 1,
        title: "사과는 모두 몇 개인지 덧셈을 해 봅시다.",
        sound: "../../../COMM/SOUND/1_3_6/1_1_3-6_001.mp3",
        headerPage: [1, 2],
        footerPage: [0, 0],
        prev: 0,
        next: 0,
      },
      {
        step: 2,
        title: "",
        sound: "",
        headerPage: [0, 0],
        footerPage: [0, 0],
        prev: 1,
        next: 1,
      },
      {
        step: 3,
        title: "덧셈을 해 봅시다.",
        sound: "../../../COMM/SOUND/1_3_6/1_1_3-6_016.mp3",
        headerPage: [2, 2],
        footerPage: [1, 2],
        prev: 2,
        next: 1,
      },
      {
        step: 4,
        title: "덧셈을 해 봅시다.",
        sound: "../../../COMM/SOUND/1_3_6/1_1_3-6_016.mp3",
        headerPage: [2, 2],
        footerPage: [2, 2],
        prev: 1,
        next: 0,
      },
      {
        step: 5,
        title: "",
        sound: "",
        headerPage: [0, 0],
        footerPage: [0, 0],
        prev: 2,
        next: 0,
      },
    ];

    function pageAction() {
      console.log("disStep ::: ", disStep);
      //setTimeout 초기화
      const TimeoutId = setTimeout(() => console.log("timeout clear"), 1);
      for (let i = 0; i < TimeoutId; i++) {
        clearTimeout(i);
      }
      stepSet();
      switch (disStep) {
        case 1:
          step1.reset();
          step1.start();
          break;
        case 2:
          step2.reset();
          step2.start();
          break;
        case 3:
          step3.reset();
          step3.start();
          break;
        case 4:
          step4.reset();
          step4.start();
          break;
        case 5:
          step5.reset();
          step5.start();
          break;
      }
    }

    //문제 시작
    //================STEP1==============
    const step1 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_6/1_1_3-6_001.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_002.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_003.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_004.mp3",
        ], [
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 왼쪽 나무 사과 7개 강조
              $('.step1 .step1_top_box .point1').addClass('spining').css('visibility', 'visible');
            }
          },
          {
            idx: 4,
            type: 'start',
            callback: () => {
              // 오른쪽 나무 사과 1개 강조
              $('.step1 .step1_top_box .point2').addClass('spining').css('visibility', 'visible');
            }
          },
          {
            idx: 4,
            type: 'end',
            callback: () => {
              // 왼쪽 빈칸 깜빡이며 터치 유도 (키패드)
              let keypadTxtEl1 = $('.step1 .keypad_txt1')

              keypadTxtEl1.addClass("blink").click(() => {
                keypadTxtEl1.removeClass('blink');
                keypadSetOn(keypadTxtEl1, 350, 135);
                step1.keypadSetClick(keypadTxtEl1);
              });
            }
          },
        ]);
      },
      keypadSetClick: (btn) => {
        $(document).on("click", keypadBtnCheckEl, (e) => {
          e.stopPropagation();

          if (keypadInput == btn.data('val')) {
            keypadSetCorrect(btn);

            $('.step1 .step1_top_box .point1').css('visibility', '').removeClass('spining');
            $('.step1 .step1_top_box .point2').css('visibility', '').removeClass('spining');

            audioSet([
              "../../../COMM/SOUND/CORRECT.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_006.mp3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_007.mp3",
            ], [
              {
                idx: 2,
                type: 'start',
                callback: () => {
                  // 오른쪽 나무 사과 1개 강조
                  $('.step1 .step1_top_box .point2').addClass('spining').css('visibility', 'visible');
                }
              },
              {
                idx: 3,
                type: 'start',
                callback: () => {
                  // 왼쪽 사과 7개 강조
                  $('.step1 .step1_top_box .point1').addClass('spining').css('visibility', 'visible');
                }
              },
              {
                idx: 3,
                type: 'end',
                callback: () => {
                  // 오른쪽 빈칸 깜빡이며 터치 유도 (키패드)
                  let keypadTxtEl2 = $('.step1 .keypad_txt2')

                  keypadTxtEl2.addClass("blink").click(() => {
                    keypadTxtEl2.removeClass('blink');
                    keypadSetOn(keypadTxtEl2, 800, 135);
                    step1.keypadSetClick2(keypadTxtEl2);
                  });
                }
              }
            ]);

          } else {
            keypadSetOff(btn);
            btn.addClass('blink');

            audioSet([
              "../../../COMM/SOUND/WRONG.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_005.mp3",
            ]);
          }
        });
      },
      keypadSetClick2: (btn) => {
        // 위의 식 키패드 공통으로 사용
        $(document).on("click", keypadBtnCheckEl, (e) => {
          e.stopPropagation();

          if (keypadInput == btn.data('val')) {
            keypadSetCorrect(btn);

            audioSet([
              "../../../COMM/SOUND/CORRECT.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_009.mp3",
            ], [
              {
                idx: 2,
                type: 'start',
                callback: () => {
                  $('.step1 .txt_container3').addClass('blinking');
                }
              },
              {
                idx: 2,
                type: 'end',
                callback: () => {
                  disStep++;
                  pageAction();
                }
              }
            ]);
          } else {
            keypadSetOff(btn);
            btn.addClass('blink');

            audioSet([
              "../../../COMM/SOUND/WRONG.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_008.mp3",
            ]);
          }
        });
      },
      reset: () => {
        keypadSetInit();
        $('.step1 .v_hidden').css('visibility', '').removeClass('spining');
        $('.step1 .txt_container3').removeClass('blink blinking');
      },
    };
    //================STEP2==============
    const step2 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_6/1_1_3-6_010.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_011.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_012.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_013.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_014.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_015.mp3",
        ], [
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 덧셈식 2개 강조
              $('.step2 .step2_calc_box .txt_container').addClass('blink');

              timerSet(() => {
                $('.step2 .step2_calc_box .txt_container').removeClass('blink');

                // 7, 1 / 1, 7 강조
                $('.step2 .step2_calc_box .txt_container1').addClass('blink');
                $('.step2 .step2_calc_box .txt_container2').addClass('blink');

                timerInit();
              }, 2000);
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 숫자 8 두개 강조
              $('.step2 .step2_calc_box .txt_container').removeClass('blink');
              $('.step2 .step2_calc_box .txt_container3').addClass('blink');
            }
          },
          {
            idx: 4,
            type: 'start',
            callback: () => {
              // 왼쪽의 사과 8개 강조
              $('.step2 .step2_top_left .img1').css('display', 'none');
              $('.step2 .step2_top_left .img2').css('display', 'block');
            }
          },
          {
            idx: 5,
            type: 'start',
            callback: () => {
              $('.step2 .step2_top_left .img').css('display', '');

              // 오른쪽의 사과 8개 강조
              $('.step2 .step2_top_right .img1').css('display', 'none');
              $('.step2 .step2_top_right .img2').css('display', 'block');
            }
          },
          {
            idx: 6,
            type: 'start',
            callback: () => {
              $('.step2 .step2_top_right .img').css('display', '');

              // 하단 텍스트 등장
              $('.step2 .check_footer_inner').addClass('slideUp');
            }
          },
          {
            idx: 6,
            type: 'end',
            callback: () => {
              correctly();
            }
          },
        ]);
      },
      reset: () => {
        $('.step2 .step2_calc_box .txt_container').removeClass('point blink');
        $('.step2 .step2_top_box .img').css('display', '');
        $('.step2 .check_footer_inner').removeClass('slideUp');
      },
    };
    //================STEP3==============
    const step3 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_6/1_1_3-6_016.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_017.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_018.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_019.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_020.mp3",
        ], [
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 울타리 안에 닭 2마리 강조
              $('.step3 .step3_img_box .point1').addClass('spining').css('visibility', 'visible');
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 울타리 밖의 닭 3마리 강조 
              $('.step3 .step3_img_box .point2').addClass('spining').css('visibility', 'visible');
            }
          },
          {
            idx: 3,
            type: 'end',
            callback: () => {
              $('.step3 .step3_img_box .point1').css('visibility', '').removeClass('spining');
              $('.step3 .step3_img_box .point2').css('visibility', '').removeClass('spining');
            }
          },
          {
            idx: 5,
            type: 'end',
            callback: () => {
              // 상단 빈칸 깜빡이며 터치 유도 (키패드)
              let keypadTxtEl1 = $('.step3 .keypad_txt1');

              keypadTxtEl1.addClass("blink").click(() => {
                keypadTxtEl1.removeClass('blink');
                keypadSetOn(keypadTxtEl1, 912, 23);
                step3.keypadSetClick(keypadTxtEl1);
              });
            }
          },
        ]);
      },
      keypadSetClick: (btn) => {
        $(document).on("click", keypadBtnCheckEl, (e) => {
          e.stopPropagation();

          if (keypadInput == btn.data('val')) {
            keypadSetCorrect(btn);

            audioSet([
              "../../../COMM/SOUND/CORRECT.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_022.mp3",
            ], [
              {
                idx: 2,
                type: 'end',
                callback: () => {
                  // 중간 빈칸 깜빡이며 터치 유도 (키패드)
                  let keypadTxtEl2 = $('.step3 .keypad_txt2');

                  keypadTxtEl2.addClass("blink").click(() => {
                    keypadTxtEl2.removeClass('blink');
                    keypadSetOn(keypadTxtEl2, 912, 23);
                    step3.keypadSetClick2(keypadTxtEl2);
                  });
                }
              }
            ]);
          } else {
            keypadSetOff(btn);
            btn.addClass('blink');

            audioSet([
              "../../../COMM/SOUND/WRONG.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_021.mp3",
            ]);
          }
        });
      },
      keypadSetClick2: (btn) => {
        $(document).on("click", keypadBtnCheckEl, (e) => {
          e.stopPropagation();

          if (keypadInput == btn.data('val')) {
            keypadSetCorrect(btn);

            audioSet([
              "../../../COMM/SOUND/CORRECT.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_024.mp3",
            ], [
              {
                idx: 2,
                type: 'end',
                callback: () => {
                  // 하단 빈칸 깜빡이며 터치 유도 (키패드)
                  let keypadTxtEl3 = $('.step3 .keypad_txt3');

                  keypadTxtEl3.addClass("blink").click(() => {
                    keypadTxtEl3.removeClass('blink');
                    keypadSetOn(keypadTxtEl3, 912, 23);
                    step3.keypadSetClick3(keypadTxtEl3);
                  });
                }
              }
            ]);
          } else {
            keypadSetOff(btn);
            btn.addClass('blink');

            audioSet([
              "../../../COMM/SOUND/WRONG.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_023.mp3",
            ]);
          }
        });
      },
      keypadSetClick3: (btn) => {
        $(document).on("click", keypadBtnCheckEl, (e) => {
          e.stopPropagation();

          if (keypadInput == btn.data('val')) {
            keypadSetCorrect(btn);

            audioSet([
              "../../../COMM/SOUND/CORRECT.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_026.mp3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_027.mp3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_028.mp3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_029.mp3",
            ], [
              {
                idx: 3,
                type: 'start',
                callback: () => {
                  // 덧셈 결과 3 강조
                  $('.step3 .keypad_txt1').addClass('blink');
                }
              },
              {
                idx: 4,
                type: 'start',
                callback: () => {
                  // 덧셈 결과 4 강조
                  $('.step3 .keypad_txt1').removeClass('blink');
                  $('.step3 .keypad_txt2').addClass('blink');
                }
              },
              {
                idx: 5,
                type: 'start',
                callback: () => {
                  // 덧셈 결과 5 강조
                  $('.step3 .keypad_txt2').removeClass('blink');
                  $('.step3 .keypad_txt3').addClass('blink');
                }
              },
              {
                idx: 5,
                type: 'end',
                callback: () => {
                  correctly();
                }
              },
            ]);
          } else {
            keypadSetOff(btn);
            btn.addClass('blink');

            audioSet([
              "../../../COMM/SOUND/WRONG.MP3",
              "../../../COMM/SOUND/1_3_6/1_1_3-6_025.mp3",
            ]);
          }
        });
      },
      reset: () => {
        keypadSetInit();

        $('.step3 .v_hidden').css('visibility', '').removeClass('spining');
        $('.step3 .keypad_txt').removeClass('point blink');
      },
    };
    //================STEP4==============
    const step4 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_6/1_1_3-6_030.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_031.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_032.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_033.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_034.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_035.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_036.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_037.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_038.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_039.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_040.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_041.mp3",
        ], [
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 더해지는 수 3개 동시 강조
              $('.step4 .step4_calc_box .txt_container1').addClass('point');
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              timerSet(() => {
                // 1 박스 강조 하면서 빨간 화살표
                $('.step4 .step4_calc_box').eq(0).find('.txt_container2').addClass('red');
                $('.step4 .step4_calc_box').eq(0).find('.arrow1').css('display', 'block');

                timerInit();
              }, 1200);
            }
          },
          {
            idx: 4,
            type: 'start',
            callback: () => {
              // 2 박스 강조 하면서 빨간 화살표
              $('.step4 .step4_calc_box').eq(1).find('.txt_container2').addClass('red');
              $('.step4 .step4_calc_box').eq(1).find('.arrow1').css('display', 'block');
            }
          },
          {
            idx: 5,
            type: 'start',
            callback: () => {
              // 3 박스 강조
              $('.step4 .step4_calc_box').eq(2).find('.txt_container2').addClass('red');
            }
          },
          {
            idx: 8,
            type: 'start',
            callback: () => {
              // 답 3 박스 강조하면서 초록 화살표
              $('.step4 .step4_calc_box').eq(0).find('.txt_container3').addClass('green');
              $('.step4 .step4_calc_box').eq(0).find('.arrow2').css('display', 'block');
            }
          },
          {
            idx: 9,
            type: 'start',
            callback: () => {
              // 답 3 박스 강조하면서 초록 화살표
              $('.step4 .step4_calc_box').eq(1).find('.txt_container3').addClass('green');
              $('.step4 .step4_calc_box').eq(1).find('.arrow2').css('display', 'block');
            }
          },
          {
            idx: 10,
            type: 'start',
            callback: () => {
              // 답 3 박스 강조하면서 초록 화살표
              $('.step4 .step4_calc_box').eq(2).find('.txt_container3').addClass('green');
              $('.step4 .step4_calc_box').eq(2).find('.arrow2').css('display', 'block');
            }
          },
          {
            idx: 12,
            type: 'end',
            callback: () => {
              disStep++;
              pageAction();
            }
          },
        ]);
      },
      reset: () => {
        $('.step4 .step4_calc_box .txt_container1').removeClass('point');
        $('.step4 .step4_calc_box .txt_container2').removeClass('red');
        $('.step4 .step4_calc_box .txt_container3').removeClass('green');
        $('.step4 .step4_calc_box .arrow').css('display', '');
      },
    };
    //================STEP5==============
    const step5 = {
      start: () => {
        audioSet([
          "../../../COMM/SOUND/1_3_6/1_1_3-6_042.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_043.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_044.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_045.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_046.mp3",
          "../../../COMM/SOUND/1_3_6/1_1_3-6_047.mp3",
        ], [
          {
            idx: 2,
            type: 'start',
            callback: () => {
              // 1, 7 동시 강조
              $('.step5 .step5_calc_box .calc_txt').eq(0).find('.txt3').addClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(0).find('.txt5').addClass('highlight');
            }
          },
          {
            idx: 3,
            type: 'start',
            callback: () => {
              // 2, 8 동시 강조
              $('.step5 .step5_calc_box .calc_txt').eq(0).find('.txt3').removeClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(0).find('.txt5').removeClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(1).find('.txt3').addClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(1).find('.txt5').addClass('highlight');
            }
          },
          {
            idx: 4,
            type: 'start',
            callback: () => {
              // 3, 9 동시 강조
              $('.step5 .step5_calc_box .calc_txt').eq(1).find('.txt3').removeClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(1).find('.txt5').removeClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(2).find('.txt3').addClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(2).find('.txt5').addClass('highlight');
            }
          },
          {
            idx: 5,
            type: 'start',
            callback: () => {
              // 가운데 화살표가 생기면서 1, 2, 3 동시 강조
              $('.step5 .step5_calc_box .calc_txt').eq(2).find('.txt3').removeClass('highlight');
              $('.step5 .step5_calc_box .calc_txt').eq(2).find('.txt5').removeClass('highlight');

              $('.step5 .step5_calc_box .arrow1').css('display', 'block');
              $('.step5 .step5_calc_box .calc_txt .txt3').addClass('highlight');

              $('.step5 .check_footer_inner').addClass('slideUp');
            }
          },
          {
            idx: 6,
            type: 'start',
            callback: () => {
              // 마지막 화살표가 생기면서 7, 8, 9 동시 강조
              $('.step5 .step5_calc_box .arrow2').css('display', 'block');
              $('.step5 .step5_calc_box .calc_txt .txt5').addClass('highlight');
            }
          },
          {
            idx: 6,
            type: 'end',
            callback: () => {
              callFinish();
            }
          },
        ]);
      },
      reset: () => {
        $('.step5 .step5_calc_box .calc_txt .txt').removeClass('highlight');
        $('.step5 .step5_calc_box .arrow').css('display', '');
        $('.step5 .check_footer_inner').removeClass('slideUp');
      },
    };
  </script>
</body>

</html>