<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>개정교육과정-수학 수학 개념</title>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="KeyWORDs" content="" />
    <meta name="Description" content="" />
    <meta name="Robots" content="all" />
    <meta http-equiv="Subject" content="" />
    <meta http-equiv="Title" content="" />
    <meta http-equiv="Author" content="onflou " />
    <meta http-equiv="Publisher" content="" />

    <!-- 브라우저 호환성을 지정 -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chorme=1" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" href="#" />
    <link href="../../../COMM/CSS/COMMON.CSS" rel="stylesheet" />
    <link href="../../../COMM/CSS/COMMONLAYOUT.CSS" rel="stylesheet" />
    <link href="../../../COMM/CSS/CONCEPTCOMMON3.CSS" rel="stylesheet" />
    <link href="../../../COMM/CSS/VIDEO.CSS" rel="stylesheet" />

    <style>
      /* 1p */
      @keyframes changeConChar2 {
        0% {
          background-position: left 0px center;
        }
        20% {
          background-position: left -208px center;
        }
        40% {
          background-position: left -416px center;
        }
        60% {
          background-position: left -624px center;
        }
        80% {
          background-position: left -832px center;
        }
        100% {
          background-position: left -1040px center;
        }
      }

      .step1_top_box .img_box {
        position: relative;
      }

      .step1_top_box .img_box .img:not(.img1) {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .step1_top_box .img_box .img:not(.img1, .img2) {
        z-index: 10;
      }

      .step1_top_box .img_box .img2 {
        z-index: 20;
      }

      .step1_mid_box {
        width: 100%;
        margin-top: 17px;
        margin-left: 300px;
        justify-content: flex-start;
        gap: 23px;
      }

      .step1_mid_box .character_txt {
        padding-bottom: 50px;
        position: relative;
      }

      .step1_mid_box .character {
        width: 208px;
        height: auto;
        aspect-ratio: 208 / 239;
        background-image: url(../../../COMM/IMG/CONCEPT/SEASON2/2_4_7/CHARACTER_IMG_2.png);
        animation: 1.5s changeConChar2 steps(1) infinite;
        position: relative;
        bottom: 0;
      }

      .step1_btm_box {
        margin-top: -30px;
        padding-bottom: 70px;
        position: relative;
        gap: 20px;
      }

      /* 2p */
      .answer_box {
        min-height: 85px;
        position: absolute;
        bottom: -40px;
        left: 50%;
        transform: translateX(-50%);
      }

      .answer_list .answer {
        width: 150px;
        height: 85px;
      }

      .answer_list .answer + .answer {
        margin-left: 48px;
      }

      /* 3p */

      /* 4p */
      .step4 .full_content_comm {
        justify-content: flex-start;
      }

      .step4_top_box .img_box {
        position: relative;
      }

      .step4_top_box .img_box .img1 {
        position: relative;
        z-index: 10;
      }

      .step4_top_box .img_box .img2 {
        width: 1028px;
        height: 216px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .step4_top_box .text_box {
        margin-top: 8px;
        padding-right: 30px;
        gap: 195px;
      }

      .step4_btm_box {
        margin-top: 47px;
        align-items: flex-start;
        gap: 20px;
      }

      .step4_btm_box .line {
        padding-left: 35px;
        gap: 20px;
        position: relative;
      }

      .step4_btm_box .line::after {
        content: "";
        width: 12px;
        aspect-ratio: 1/1;
        background-color: #000000;
        border-radius: 50%;
        position: absolute;
        top: 50%;
        left: 0;
        transform: translateY(-50%);
      }

      .step4_btm_box .line span {
        line-height: 70px;
      }

      .step4_btm_box .line .step4_arrow {
        width: 62px;
        height: 64px;
        background-image: url(../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP4_ARROW.png);
        background-repeat: no-repeat;
        background-size: contain;
      }

      .step4_btm_box .line .txt {
        gap: 20px;
      }

      .step4_btm_box .line .txt .tag {
        width: 170px;
        height: 70px;
        background-color: rgba(190, 218, 255, 1);
        border-radius: 10px;
      }
    </style>
  </head>

  <body>
    <div id="wrap">
      <div
        id="contents-wrap"
        class="concept"
        style="position: absolute; display: flex"
      ></div>
      <div id="contents-main" style="display: none" class="concept-warp">
        <div class="concept-warp_inner">
          <header class="header" style="visibility: visible">
            <div class="header_title">
              <button class="sound-btn" onclick="titleSound()"></button>
              <h3></h3>
            </div>
            <p class="header_page"><span>1</span>/2</p>
          </header>
          <main class="main">
            <div class="main_content">
              <!-- 콘텐츠영역 -->
              <div class="step step1" style="display: block">
                <!-- step1 시작부분 -->
                <div class="main__container dp_flex dp_flex_column">
                  <div class="step1_top_box">
                    <div class="img_box">
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG1.png"
                        class="img img1"
                        alt="배경 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG2.png"
                        class="img img2"
                        alt="예나, 수현 구슬 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG3.png"
                        class="img img3 v_hidden"
                        alt="예나, 수현 구슬 강조 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG4.png"
                        class="img img4 v_hidden"
                        alt="빨간 선 강조 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG6.png"
                        class="img img5 v_hidden"
                        alt="수현 초록색 구슬 강조 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG7.png"
                        class="img img6 v_hidden"
                        alt="수현 노란색 구슬 이미지"
                      />
                    </div>
                  </div>

                  <div class="step1_mid_box dp_flex v_hidden">
                    <div class="character" style="display: block"></div>
                    <div class="character_txt" style="display: block">
                      <img src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_CHAR_HINT.png" alt="캐릭터 말풍선"/>
                    </div>
                  </div>

                  <div class="step1_btm_box dp_flex v_hidden">
                    <div class="txt txt1">
                      <span>12</span>
                    </div>

                    <div class="sign sign1">
                      <span>+</span>
                    </div>

                    <div
                      class="txt_container txt_container1 two keypad_txt keypad_txt1"
                      data-val="25"
                      data-length="2"
                    >
                      <span>?</span>
                    </div>

                    <div class="sign sign2">
                      <span>=</span>
                    </div>

                    <div
                      class="txt_container txt_container2 two keypad_txt keypad_txt2"
                      data-val="37"
                      data-length="2"
                    >
                      <span>?</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="step step2" style="display: block">
                <!-- step2 시작부분 -->
                <div class="main__container dp_flex dp_flex_column">
                  <div class="step1_top_box">
                    <div class="img_box">
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG1.png"
                        class="img img1"
                        alt="배경 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG2.png"
                        class="img img2"
                        alt="예나, 수현 구슬 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG5.png"
                        class="img img3 v_hidden"
                        alt="예나 초록색 구슬 강조 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG6.png"
                        class="img img4 v_hidden"
                        alt="수현 초록색 구슬 강조 이미지"
                      />
                    </div>
                  </div>

                  <div class="step1_mid_box dp_flex v_hidden">
                    <div class="character" style="display: block"></div>
                    <div class="character_txt" style="display: block" style="display: block">
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP2_CHAR_HINT.png"
                        alt="캐릭터 말풍선"
                      />
                    </div>
                  </div>

                  <div class="step1_btm_box dp_flex v_hidden">
                    <div class="txt txt1">
                      <span>23</span>
                    </div>

                    <div class="sign sign1">
                      <span>-</span>
                    </div>

                    <div class="txt_container txt_container1 two">
                      <span>?</span>
                    </div>

                    <div class="sign sign2">
                      <span>=</span>
                    </div>

                    <div class="txt_container txt_container2 two">
                      <span>?</span>
                    </div>

                    <div class="step2_answer_box1 answer_box v_hidden">
                      <div class="answer_list">
                        <div class="answer answer1">11</div>
                        <div class="answer answer2">12</div>
                        <div class="answer answer3">13</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="step step3" style="display: none">
                <!-- step3 시작부분 -->
                <div class="main__container dp_flex dp_flex_column">
                  <div class="step1_top_box">
                    <div class="img_box">
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG1.png"
                        class="img img1"
                        alt="배경 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG2.png"
                        class="img img2"
                        alt="예나, 수현 구슬 이미지"
                      />
                      <img
                        src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP1_IMG7.png"
                        class="img img3 v_hidden"
                        alt="수현 노란색 구슬 강조 이미지"
                      />
                    </div>
                  </div>

                  <div class="step1_mid_box dp_flex v_hidden">
                    <div class="character" style="display: block"></div>
                    <div class="character_txt" style="display: block">
                      <img src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP3_CHAR_HINT.png" alt="캐릭터 말풍선"/>
                    </div>
                  </div>

                  <div class="step1_btm_box dp_flex v_hidden">
                    <div class="txt txt1">
                      <span>25</span>
                    </div>

                    <div class="sign sign1">
                      <span>-</span>
                    </div>

                    <div class="txt_container txt_container1 two">
                      <span>?</span>
                    </div>

                    <div class="sign sign2">
                      <span>=</span>
                    </div>

                    <div class="txt_container txt_container2 two">
                      <span>?</span>
                    </div>

                    <div class="step3_answer_box1 answer_box v_hidden">
                      <div class="answer_list">
                        <div class="answer answer1">11</div>
                        <div class="answer answer2">12</div>
                        <div class="answer answer3">13</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="step step4" style="display: block">
                <!-- step4 시작부분 -->
                <div class="main__container">
                  <div class="full_content_comm dp_flex dp_flex_column">
                    <div class="step4_top_box dp_flex dp_flex_column">
                      <div class="img_box">
                        <img
                          src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP4_IMG1.png"
                          class="img img1"
                          alt="과일 바구니 이미지"
                        />
                        <img
                          src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP4_IMG2.png"
                          class="img img2 v_hidden"
                          alt="과일 바구니 강조 이미지"
                        />
                      </div>

                      <div class="text_box dp_flex">
                        <div class="txt txt1">
                          <span>사과 15개</span>
                        </div>

                        <div class="txt txt1">
                          <span>배 12개</span>
                        </div>

                        <div class="txt txt1">
                          <span>귤 23개</span>
                        </div>
                      </div>
                    </div>
                    <div class="step4_btm_box dp_flex dp_flex_column">
                      <div class="line line1 dp_flex v_hidden">
                        <div class="txt txt1">
                          <span>사과와 배는 모두 몇 개인지 구할 때</span>
                        </div>
                        <div class="step4_arrow v_hidden"></div>
                        <div class="txt txt2 dp_flex v_hidden">
                          <div class="tag dp_flex">
                            <span>덧셈식</span>
                          </div>

                          <span>15+12=27</span>
                        </div>
                      </div>

                      <div class="line line2 dp_flex v_hidden">
                        <div class="txt txt1">
                          <span>귤은 배보다 몇 개 더 많은지 구할 때</span>
                        </div>
                        <div class="step4_arrow v_hidden"></div>
                        <div class="txt txt2 dp_flex v_hidden">
                          <div class="tag dp_flex">
                            <span>뺄셈식</span>
                          </div>

                          <span>23-12=11</span>
                        </div>
                      </div>

                      <div class="line line3 dp_flex v_hidden">
                        <div class="txt txt1">
                          <span
                            >귤 23개 중 11개를 먹고 남은 귤의 수를 구할 때</span
                          >
                        </div>
                        <div class="step4_arrow v_hidden"></div>
                        <div class="txt txt2 dp_flex v_hidden">
                          <div class="tag dp_flex">
                            <span>뺄셈식</span>
                          </div>

                          <span>23-11=12</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <footer class="check_footer">
                    <div class="check_footer_inner">
                      <div class="check_footer_text img_container">
                        <img
                          src="../../../COMM/IMG/CONCEPT/SEASON2/1_6_6/STEP4_FOOTER_TXT.png"
                          class="img footer_img"
                        />
                      </div>
                      <div class="check_footer_ch">
                        <div class="check_footer_ch_head"></div>
                        <div class="check_footer_ch_body"></div>
                      </div>
                    </div>
                  </footer>
                </div>
              </div>

              <ul class="step-list">
                <li class="step-list_item active"></li>
                <li class="step-list_item"></li>
              </ul>
            </div>
          </main>
          <div class="main_prev-next">
            <button class="btn-prev" style="display: none">이전버튼</button>
            <!-- <button class="btn-next" style="display: block" disabled> -->
            <button class="btn-next blinking" style="display: block">
              다음버튼
            </button>
          </div>
        </div>
      </div>
    </div>

    <script
      crossorigin
      src="https://www.unpkg.com/jquery@3.7.1/dist/jquery.min.js"
    ></script>
    <script src="../../../COMM/JS/HOWLER.MIN.JS"></script>
    <script src="../../../COMM/JS/COMMON2.JS"></script>
    <script src="../../../COMM/JS/CONCEPTEVNT3.JS"></script>
    <script src="../../../COMM/JS/CONCEPTEVNTBTN.JS"></script>
    <script src="../../../COMM/JS/GAME.JS"></script>
    <script src="../../../COMM/JS/VIDEO.JS"></script>
    <script src="../../../COMM/JS/VIDEO-HTTP-STREAMING.JS"></script>
    <script defer src="../../../COMM/JS/TOUCHDND.JS"></script>
    <script>
      /*
       * 데이터
       */
      let intro = {
        type: "concept", //concept 개념익히기, checkExam 확인문제
        title: "덧셈과 뺄셈을 해 볼까요",
        subTitle: [
          "덧셈 이야기와 뺄셈 이야기를 식으로 나타낼 수 있어요.",
        ],
        sound: ["../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_001.mp3"],
      };

      //현재 페이지
      let disStep = 1;

      let pageData = [
        {
          step: 1,
          title: "그림을 보고 덧셈식과 뺄셈식으로 나타내 봅시다.",
          sound: "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_001.mp3",
          headerPage: [1, 1],
          footerPage: [1, 3],
          prev: 0,
          next: 1,
        },
        {
          step: 2,
          title: "그림을 보고 덧셈식과 뺄셈식으로 나타내 봅시다.",
          sound: "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_001.mp3",
          headerPage: [1, 1],
          footerPage: [2, 3],
          prev: 1,
          next: 1,
        },
        {
          step: 3,
          title: "그림을 보고 덧셈식과 뺄셈식으로 나타내 봅시다.",
          sound: "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_001.mp3",
          headerPage: [1, 1],
          footerPage: [3, 3],
          prev: 1,
          next: 0,
        },
        {
          step: 4,
          title: "",
          sound: "",
          headerPage: [0, 0],
          footerPage: [0, 0],
          prev: 3,
          next: 0,
        },
      ];

      function pageAction() {
        console.log("disStep ::: ", disStep);
        //setTimeout 초기화
        const TimeoutId = setTimeout(() => console.log("timeout clear"), 1);
        for (let i = 0; i < TimeoutId; i++) {
          clearTimeout(i);
        }
        stepSet();
        switch (disStep) {
          case 1:
            step1.reset();
            step1.start();
            break;
          case 2:
            step2.reset();
            step2.start();
            break;
          case 3:
            step3.reset();
            step3.start();
            break;
          case 4:
            step4.reset();
            step4.start();
            break;
        }
      }

      //문제 시작
      //================STEP1==============
      const step1 = {
        start: () => {
          audioSet(
            [
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_001.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_002.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_003.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_004.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_005.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_006.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_007.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_008.mp3",
            ],
            [
              {
                idx: 2,
                type: "start",
                callback: () => {
                  $(".step1 .step1_top_box .img_box .img3")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 3,
                type: "start",
                callback: () => {
                  $(".step1 .step1_top_box .img_box .img3")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step1 .step1_top_box .img_box .img4").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 4,
                type: "start",
                callback: () => {
                  $(".step1 .step1_top_box .img_box .img4").css(
                    "visibility",
                    ""
                  );
                  $(".step1 .step1_top_box .img_box .img5")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 5,
                type: "start",
                callback: () => {
                  $(".step1 .step1_top_box .img_box .img5")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step1 .step1_top_box .img_box .img6")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 6,
                type: "start",
                callback: () => {
                  $(".step1 .step1_top_box .img_box .img6")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step1 .step1_mid_box").css("visibility", "visible");
                },
              },
              {
                idx: 7,
                type: "start",
                callback: () => {
                  $(".step1 .step1_btm_box").css("visibility", "visible");
                },
              },
              {
                idx: 8,
                type: "end",
                callback: () => {
                  // 빈칸 깜빡이기 (키패드 노출)
                  let keypadTxtEl1 = $(".step1 .keypad_txt1");
                  keypadTxtEl1.addClass("blink").click(() => {
                    keypadTxtEl1.removeClass("blink");
                    keypadSetOn(keypadTxtEl1, 14, 224);
                    step1.keypadSetClick(keypadTxtEl1);
                  });
                },
              },
            ]
          );
        },
        keypadSetClick: (btn) => {
          $(document).on("click", keypadBtnCheckEl, () => {
            if (keypadInput == btn.data("val")) {
              keypadSetCorrect(btn);
              audioSet(
                ["../../../COMM/SOUND/CORRECT.MP3"],
                [
                  {
                    idx: 1,
                    type: "end",
                    callback: () => {
                      // 빈칸 깜빡이기 (키패드 노출)
                      let keypadTxtEl1 = $(".step1 .keypad_txt2");
                      keypadTxtEl1.addClass("blink").click(() => {
                        keypadTxtEl1.removeClass("blink");
                        keypadSetOn(keypadTxtEl1, 14, 224);
                        step1.keypadSetClick2(keypadTxtEl1);
                      });
                    },
                  },
                ]
              );
            } else {
              keypadSetOff(btn);
              btn.addClass("blink");

              audioSet([
                "../../../COMM/SOUND/WRONG.MP3",
                "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_009.mp3",
              ]);
            }
          });
        },
        keypadSetClick2: (btn) => {
          $(document).on("click", keypadBtnCheckEl, () => {
            if (keypadInput == btn.data("val")) {
              keypadSetCorrect(btn);
              audioSet(
                [
                  "../../../COMM/SOUND/CORRECT.MP3",
                  "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_011.mp3",
                  "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_012.mp3",
                ],
                [
                  {
                    idx: 3,
                    type: "start",
                    callback: () => {
                      $(".step1 .step1_btm_box > div").addClass("blinking");
                    },
                  },
                  {
                    idx: 3,
                    type: "end",
                    callback: () => {
                      $(".step1 .step1_btm_box > div").removeClass("blinking");
                      correctly();
                    },
                  },
                ]
              );
            } else {
              keypadSetOff(btn);
              btn.addClass("blink");

              audioSet([
                "../../../COMM/SOUND/WRONG.MP3",
                "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_010.mp3",
              ]);
            }
          });
        },
        reset: () => {
          keypadSetInit();

          $(".step1 .dp_none").css("display", "");
          $(".step1 .v_hidden").css("visibility", "");
          $(".step1 .blinking").removeClass("blinking");
        },
      };
      //================STEP2==============
      const step2 = {
        start: () => {
          audioSet(
            [
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_013.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_014.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_015.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_016.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_017.mp3",
            ],
            [
              {
                idx: 1,
                type: "start",
                callback: () => {
                  $(".step2 .step1_top_box .img_box .img3")
                    .css("visibility", "visible")
                    .addClass("blinking");
                  $(".step2 .step1_top_box .img_box .img4")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 2,
                type: "start",
                callback: () => {
                  $(".step2 .step1_top_box .img_box .img4")
                    .css("visibility", "")
                    .removeClass("blinking");
                },
              },
              {
                idx: 3,
                type: "start",
                callback: () => {
                  $(".step2 .step1_top_box .img_box .img3")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step2 .step1_top_box .img_box .img4")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 4,
                type: "start",
                callback: () => {
                  $(".step2 .step1_top_box .img_box .img4")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step2 .step1_mid_box").css("visibility", "visible");
                },
              },
              {
                idx: 5,
                type: "start",
                callback: () => {
                  $(".step2 .step1_btm_box").css("visibility", "visible");
                },
              },
              {
                idx: 5,
                type: "end",
                callback: () => {
                  $(".step2 .step1_btm_box .step2_answer_box1").css(
                    "visibility",
                    "visible"
                  );

                  stepDropList = [
                    {
                      dropEl: ".step2 .txt_container1",
                      correct: 2,
                    },
                    {
                      dropEl: ".step2 .txt_container2",
                      correct: 1,
                    },
                  ];

                  stepDropArr = [11, 12, 13];

                  quizMultiDragDropSetOnNew(
                    stepDropList,
                    $(".step2 .step2_answer_box1"),
                    stepDropArr,
                    step2.dropppFn
                  );
                },
              },
            ]
          );
        },
        dropppFn: () => {
          $(".droppable")
            .droppable({ disabled: false })
            .on("droppable:drop", function (droppp, drag) {
              let dragAnswer = drag.item[0].dataset.val;
              let answer = droppp.currentTarget.dataset.val;

              if (answer === dragAnswer) {
                correctlyFlag++;
                quizMultiDragDropSetCorrect(droppp.currentTarget);

                if (correctlyFlag == stepDropList.length) {
                  quizMultiDragDropSetCorrectly();
                  stepDropList = "";
                  stepDropArr = "";

                  // 정답 시 실행되는 코드
                  audioSet(
                    [
                      "../../../COMM/SOUND/CORRECT.mp3",
                      "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_018.mp3",
                      "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_019.mp3",
                    ],
                    [
                      {
                        idx: 1,
                        type: "start",
                        callback: () => {
                          $(".step2 .step1_btm_box .step2_answer_box1").css(
                            "visibility",
                            ""
                          );
                        },
                      },
                      {
                        idx: 3,
                        type: "start",
                        callback: () => {
                          $(".step2 .step1_btm_box > div").addClass("blinking");
                        },
                      },
                      {
                        idx: 3,
                        type: "end",
                        callback: () => {
                          $(".step2 .step1_btm_box > div").removeClass(
                            "blinking"
                          );
                          correctly();
                        },
                      },
                    ]
                  );
                } else {
                  audioSet(["../../../COMM/SOUND/CORRECT.mp3"]);
                }
              } else {
                audioSet(["../../../COMM/SOUND/WRONG.mp3"]);

                return false;
              }
            });
        },
        reset: () => {
          correctlyFlag = 0;

          $(".step2 .dp_none").css("display", "");
          $(".step2 .v_hidden").css("visibility", "");
          $(".step2 .blinking").removeClass("blinking");
        },
      };
      //================STEP3==============
      const step3 = {
        start: () => {
          audioSet(
            [
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_020.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_021.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_022.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_023.mp3",
            ],
            [
              {
                idx: 1,
                type: "start",
                callback: () => {
                  $(".step3 .step1_top_box .img_box .img3")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 2,
                type: "start",
                callback: () => {
                  $(".step3 .step1_top_box .img_box .img3")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step3 .step1_mid_box").css("visibility", "visible");
                },
              },
              {
                idx: 3,
                type: "start",
                callback: () => {
                  $(".step3 .step1_btm_box").css("visibility", "visible");
                },
              },
              {
                idx: 4,
                type: "end",
                callback: () => {
                  $(".step3 .step1_btm_box .step3_answer_box1").css(
                    "visibility",
                    "visible"
                  );

                  stepDropList = [
                    {
                      dropEl: ".step3 .txt_container1",
                      correct: 2,
                    },
                    {
                      dropEl: ".step3 .txt_container2",
                      correct: 3,
                    },
                  ];

                  stepDropArr = [11, 12, 13];

                  quizMultiDragDropSetOnNew(
                    stepDropList,
                    $(".step3 .step3_answer_box1"),
                    stepDropArr,
                    step3.dropppFn
                  );
                },
              },
            ]
          );
        },
        dropppFn: () => {
          $(".droppable")
            .droppable({ disabled: false })
            .on("droppable:drop", function (droppp, drag) {
              let dragAnswer = drag.item[0].dataset.val;
              let answer = droppp.currentTarget.dataset.val;

              if (answer === dragAnswer) {
                correctlyFlag++;
                quizMultiDragDropSetCorrect(droppp.currentTarget);

                if (correctlyFlag == stepDropList.length) {
                  quizMultiDragDropSetCorrectly();
                  stepDropList = "";
                  stepDropArr = "";

                  // 정답 시 실행되는 코드
                  audioSet(
                    [
                      "../../../COMM/SOUND/CORRECT.mp3",
                      "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_024.mp3",
                      "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_025.mp3",
                      "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_026.mp3",
                      "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_027.mp3",
                    ],
                    [
                      {
                        idx: 1,
                        type: "start",
                        callback: () => {
                          $(".step3 .step1_btm_box .step3_answer_box1").css(
                            "visibility",
                            ""
                          );
                        },
                      },
                      {
                        idx: 4,
                        type: "start",
                        callback: () => {
                          $(".step3 .step1_btm_box > div").addClass("blinking");
                        },
                      },
                      {
                        idx: 5,
                        type: "end",
                        callback: () => {
                          $(".step3 .step1_btm_box > div").removeClass(
                            "blinking"
                          );
                          disStep++;
                          pageAction();
                        },
                      },
                    ]
                  );
                } else {
                  audioSet(["../../../COMM/SOUND/CORRECT.mp3"]);
                }
              } else {
                audioSet(["../../../COMM/SOUND/WRONG.mp3"]);

                return false;
              }
            });
        },
        reset: () => {
          correctlyFlag = 0;

          $(".step3 .dp_none").css("display", "");
          $(".step3 .v_hidden").css("visibility", "");
          $(".step3 .blinking").removeClass("blinking");
        },
      };
      //================STEP4==============
      const step4 = {
        start: () => {
          audioSet(
            [
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_028.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_029.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_030.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_031.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_032.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_033.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_034.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_035.mp3",
              "../../../COMM/SOUND/SEASON2/1_6_6/1_2_6-6_036.mp3",
            ],
            [
              {
                idx: 1,
                type: "start",
                callback: () => {
                  $(".step4 .step4_top_box .img_box .img2")
                    .css("visibility", "visible")
                    .addClass("blinking");
                },
              },
              {
                idx: 2,
                type: "start",
                callback: () => {
                  $(".step4 .step4_top_box .img_box .img2")
                    .css("visibility", "")
                    .removeClass("blinking");
                  $(".step4 .step4_btm_box .line1").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 3,
                type: "start",
                callback: () => {
                  $(".step4 .step4_btm_box .line1 .step4_arrow").css(
                    "visibility",
                    "visible"
                  );
                  $(".step4 .step4_btm_box .line1 .txt2").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 4,
                type: "start",
                callback: () => {
                  $(".step4 .step4_btm_box .line2").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 5,
                type: "start",
                callback: () => {
                  $(".step4 .step4_btm_box .line2 .step4_arrow").css(
                    "visibility",
                    "visible"
                  );
                  $(".step4 .step4_btm_box .line2 .txt2").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 6,
                type: "start",
                callback: () => {
                  $(".step4 .step4_btm_box .line3").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 7,
                type: "start",
                callback: () => {
                  $(".step4 .step4_btm_box .line3 .step4_arrow").css(
                    "visibility",
                    "visible"
                  );
                  $(".step4 .step4_btm_box .line3 .txt2").css(
                    "visibility",
                    "visible"
                  );
                },
              },
              {
                idx: 8,
                type: "start",
                callback: () => {
                  $(".step4 .check_footer_inner").addClass("slideUp");
                },
              },
              {
                idx: 9,
                type: "end",
                callback: () => {
                  callFinish();
                },
              },
            ]
          );
        },
        reset: () => {
          $(".step4 .dp_none").css("display", "");
          $(".step4 .v_hidden").css("visibility", "");
          $(".step4 .slideUp").removeClass("slideUp");
          $(".step4 .blinking").removeClass("blinking");
        },
      };
    </script>
  </body>
</html>